{"version":3,"sources":["../../src/time/picker.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAMM;;;AASF,aATE,UASF,GAAsB;;;8BATpB,YASoB;;0CAAN;;SAAM;;oGATpB,6DAUW,QADS;;cAMtB,QAAQ;AACJ,wBAAa,KAAb;AACA,4CAFI;UANc;;cAyBtB,eAAe,UAAC,CAAD,EAAO;AAClB,cAAE,cAAF,GADkB;AAElB,kBAAK,QAAL,CAAc;AACV,iDADU;aAAd,EAFkB;SAAP,CAzBO;;cAgCtB,iBAAiB,UAAC,CAAD,EAAO;AACpB,cAAE,cAAF,GADoB;AAEpB,kBAAK,QAAL,CAAc;AACV,mDADU;aAAd,EAFoB;SAAP,CAhCK;;cAuCtB,eAAe,UAAC,IAAD,EAAU;8BAIjB,MAAK,KAAL,CAJiB;gBAEjB,gCAFiB;gBAGjB,gCAHiB;;;AAMrB,qBAAS,sBAAO,QAAP,EAAiB,IAAjB,CAAsB,KAAK,IAAL,EAAtB,EAAmC,OAAnC,CAA2C,KAAK,OAAL,EAA3C,CAAT,EANqB;;AAQrB,kBAAK,QAAL,CAAc;AACV,gDADU;aAAd,EARqB;SAAV,CAvCO;;AAGlB,cAAK,KAAL,GAAa,OAAO,MAAP,CAAc,EAAd,EAAkB,MAAK,KAAL,EAAY,EAAE,YAAa,MAAK,cAAL,EAAb,EAAhC,CAAb,CAHkB;;KAAtB;;iBATE;;oDAoB2B;AACzB,iBAAK,QAAL,CAAc,EAAE,YAAa,KAAK,cAAL,EAAb,EAAhB,EADyB;;;;yCAIX;gBACN,SAAW,KAAK,KAAL,CAAX,OADM;;AAEd,gBAAM,eAAe,wBAAS,MAAT,CAAgB,MAAhB,CAAf,CAFQ;AAGd,gBAAM,eAAe,CAAC,IAAD,EAAO,KAAP,EAAc,GAAd,CAAkB,UAAC,CAAD;uBAAO,aAAa,UAAb,GAA0B,cAA1B,CAAyC,CAAzC;aAAP,CAAlB,CAAsE,IAAtE,CAA2E,GAA3E,CAAf,CAHQ;;AAKd,mBACI,aAAa,WAAb,GAA2B,OAA3B,CAAmC,GAAnC,IAA0C,CAA1C,IAA+C,aAAa,OAAb,CAAqB,UAArB,EAAiC,EAAjC,EAAqC,OAArC,CAA6C,GAA7C,IAAoD,CAApD,CANrC;;;;yCAqCA;yBAIV,KAAK,KAAL,CAJU;gBAEV,+BAFU;gBAGV,2BAHU;;;AAMd,oBAAQ,QAAR;AACI;AACI,2BACI,4DAAsB,KAAK,KAAL;AACL,oCAAa,UAAb;AACA,kCAAW,KAAK,YAAL,GAF5B,CADJ,CADJ;;AADJ,8CAQI;AACI,2BACI,8DAAwB,KAAK,KAAL;AACL,kCAAW,KAAK,YAAL,GAD9B,CADJ,CADJ;;AARJ;AAeQ,2BACI,yDAAgB,YAAa,UAAb;AACA,sCAAe,KAAK,YAAL;AACf,wCAAiB,KAAK,cAAL;AACjB,kCAAW,KAAK,YAAL;uBACN,KAAK,KAAL,CAJrB,CADJ,CADJ;AAdJ,aANc;;;;iCA+BR;gBACE,aAAe,KAAK,KAAL,CAAf,WADF;;AAEN,gBAAM,UAAU,0BAAW,YAAX,EAAyB,EAAE,YAAa,UAAb,EAA3B,CAAV,CAFA;AAGN,mBACI;;kBAAK,WAAY,OAAZ,EAAL;gBACM,KAAK,cAAL,EADN;aADJ,CAHM;;;;WA5FR;;;WAEK,YAAY;AACf,cAAa,+BAAgB,SAAhB;AACb,YAAa,gBAAM,SAAN,CAAgB,MAAhB;AACb,cAAa,gBAAM,SAAN,CAAgB,IAAhB;AACb,gBAAa,gBAAM,SAAN,CAAgB,IAAhB;;kBAkGN","file":"picker.js","sourcesContent":["import React, { Component } from \"react\"\nimport MomentPropTypes from \"react-moment-proptypes\"\nimport classNames from \"classnames\"\nimport moment from \"moment\"\nimport TimePickerTime from \"./time.js\"\nimport TimePickerHours from \"./hours.js\"\nimport TimePickerMinutes from \"./minutes.js\"\nimport {\n    VIEW_MODE_TIME,\n    VIEW_MODE_HOURS,\n    VIEW_MODE_MINUTES\n} from \"../config.js\"\n\nclass TimePicker extends Component {\n\n    static propTypes = {\n        dateTime   : MomentPropTypes.momentObj,\n        locale     : React.PropTypes.string,\n        onChange   : React.PropTypes.func,\n        sideBySide : React.PropTypes.bool\n    }\n\n    constructor (...args) {\n        super(...args)\n\n        this.state = Object.assign({}, this.state, { use24Hours : this.get24HoursFlag() })\n    }\n\n    state = {\n        use24Hours : false,\n        viewMode   : VIEW_MODE_TIME\n    }\n\n    componentWillReceiveProps () {\n        this.setState({ use24Hours : this.get24HoursFlag() })\n    }\n\n    get24HoursFlag () {\n        const { locale } = this.props\n        const momentLocale = moment().locale(locale)\n        const actualFormat = [\"LT\", \"LTS\"].map((f) => momentLocale.localeData().longDateFormat(f)).join(\" \")\n\n        return (\n            actualFormat.toLowerCase().indexOf(\"a\") < 1 && actualFormat.replace(/\\[.*?\\]/g, \"\").indexOf(\"h\") < 1\n        )\n    }\n\n    onClickHours = (e) => {\n        e.preventDefault()\n        this.setState({\n            viewMode : VIEW_MODE_HOURS\n        })\n    }\n\n    onClickMinutes = (e) => {\n        e.preventDefault()\n        this.setState({\n            viewMode : VIEW_MODE_MINUTES\n        })\n    }\n\n    onSelectTime = (date) => {\n        const {\n            dateTime,\n            onChange\n        } = this.props\n\n        onChange(moment(dateTime).hour(date.hour()).minutes(date.minutes()))\n\n        this.setState({\n            viewMode : VIEW_MODE_TIME\n        })\n    }\n\n    renderViewMode () {\n        const {\n            use24Hours,\n            viewMode\n        } = this.state\n\n        switch (viewMode) {\n            case VIEW_MODE_HOURS :\n                return (\n                    <TimePickerHours { ...this.props }\n                                     use24Hours={ use24Hours }\n                                     onSelect={ this.onSelectTime } />\n                )\n\n            case VIEW_MODE_MINUTES :\n                return (\n                    <TimePickerMinutes { ...this.props }\n                                       onSelect={ this.onSelectTime } />\n                )\n\n            default :\n                return (\n                    <TimePickerTime use24Hours={ use24Hours }\n                                    onClickHours={ this.onClickHours }\n                                    onClickMinutes={ this.onClickMinutes }\n                                    onSelect={ this.onSelectTime }\n                                    { ...this.props } />\n                )\n        }\n    }\n\n    render () {\n        const { sideBySide } = this.props\n        const classes = classNames(\"timepicker\", { \"col-md-6\" : sideBySide })\n        return (\n            <div className={ classes }>\n                { this.renderViewMode() }\n            </div>\n        )\n    }\n\n}\n\nexport default TimePicker\n"]}